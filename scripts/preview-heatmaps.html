<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Heatmap Preview — Fretboard Trainer</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 900px;
      padding: 2rem 1rem;
      margin: 0 auto;
      color: #333;
      line-height: 1.5;
    }
    h1 { font-size: 1.5rem; margin-bottom: 0.25rem; }
    .subtitle { color: #666; font-size: 0.85rem; margin-bottom: 2rem; }
    h2 { font-size: 1rem; margin: 1.5rem 0 0.5rem; color: #555; }

    .scheme-section {
      margin-bottom: 1.5rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 1rem;
    }
    .scheme-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.75rem;
    }
    .scheme-header .topbar-preview {
      width: 24px; height: 24px; border-radius: 4px;
      border: 1px solid #ccc;
    }
    .scheme-header .brand-preview {
      width: 24px; height: 24px; border-radius: 50%;
      border: 1px solid #ccc;
    }
    .scheme-name {
      font-weight: 600;
      font-size: 1.1rem;
    }
    .heatmap-row {
      display: flex;
      gap: 4px;
      margin-bottom: 0.5rem;
    }
    .heatmap-cell {
      flex: 1;
      height: 48px;
      border-radius: 4px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size: 0.65rem;
      font-weight: 500;
      border: 1px solid rgba(0,0,0,0.1);
    }
    .heatmap-cell .label { opacity: 0.8; }
    .heatmap-cell .hsl-val { font-size: 0.55rem; opacity: 0.6; }
    .meta {
      font-size: 0.75rem;
      color: #888;
      margin-top: 0.25rem;
    }

    /* Colorblind simulation filters */
    .sim-section { margin-top: 2rem; }
    .sim-row { display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 1rem; }
    .sim-card { flex: 1; min-width: 250px; }
    .sim-label { font-size: 0.75rem; color: #666; margin-bottom: 0.25rem; font-weight: 600; }

    /* SVG filter for deuteranopia simulation (approximate) */
    .deuteranopia { filter: url(#deuteranopia); }
    .protanopia { filter: url(#protanopia); }
    .tritanopia { filter: url(#tritanopia); }
  </style>
</head>
<body>
  <!-- SVG filters for colorblind simulation (Machado et al. matrices) -->
  <svg style="position:absolute;width:0;height:0;">
    <defs>
      <filter id="deuteranopia">
        <feColorMatrix type="matrix" values="
          0.625  0.375  0.0   0 0
          0.7    0.3    0.0   0 0
          0.0    0.3    0.7   0 0
          0      0      0     1 0"/>
      </filter>
      <filter id="protanopia">
        <feColorMatrix type="matrix" values="
          0.567  0.433  0.0   0 0
          0.558  0.442  0.0   0 0
          0.0    0.242  0.758 0 0
          0      0      0     1 0"/>
      </filter>
      <filter id="tritanopia">
        <feColorMatrix type="matrix" values="
          0.95   0.05   0.0   0 0
          0.0    0.433  0.567 0 0
          0.0    0.475  0.525 0 0
          0      0      0     1 0"/>
      </filter>
    </defs>
  </svg>

  <h1>Heatmap Scale Preview</h1>
  <div class="subtitle">
    All 9 color schemes with their multi-hue heatmap scales.
    Each scale has monotonically decreasing lightness for colorblind safety.
    <br>Scroll down for simulated colorblind views.
  </div>

  <div id="schemes"></div>

  <div class="sim-section">
    <h2>Colorblind Simulations</h2>
    <p class="subtitle">Approximate simulations using Machado et al. color matrices.
      All scales should remain distinguishable due to monotonic lightness variation.</p>
    <div id="simulations"></div>
  </div>

  <script>
    // Inline the scheme definitions (copy from src/color-schemes.js)
    // This is a standalone preview page — no build system dependency.

    function parseSchemes() {
      // Fetch the scheme data from the source file
      var schemes = {};

      // We'll define them inline for portability
      var data = {
        classic: {
          name: 'Classic',
          brand: 'hsl(38, 90%, 55%)',
          topbar: 'hsl(220, 15%, 18%)',
          heatmap: [
            'hsl(30, 5%, 85%)',
            'hsl(215, 45%, 60%)',
            'hsl(200, 40%, 65%)',
            'hsl(50, 50%, 65%)',
            'hsl(42, 70%, 58%)',
            'hsl(38, 85%, 55%)',
          ],
        },
        ocean: {
          name: 'Ocean',
          brand: 'hsl(178, 65%, 42%)',
          topbar: 'hsl(210, 50%, 22%)',
          heatmap: [
            'hsl(200, 8%, 85%)',
            'hsl(280, 22%, 72%)',
            'hsl(235, 32%, 62%)',
            'hsl(205, 42%, 52%)',
            'hsl(188, 55%, 42%)',
            'hsl(175, 65%, 34%)',
          ],
        },
        forest: {
          name: 'Forest',
          brand: 'hsl(152, 55%, 42%)',
          topbar: 'hsl(160, 30%, 18%)',
          heatmap: [
            'hsl(140, 5%, 85%)',
            'hsl(250, 22%, 72%)',
            'hsl(215, 32%, 62%)',
            'hsl(185, 40%, 50%)',
            'hsl(165, 50%, 40%)',
            'hsl(150, 58%, 33%)',
          ],
        },
        sunset: {
          name: 'Sunset',
          brand: 'hsl(12, 75%, 58%)',
          topbar: 'hsl(250, 12%, 20%)',
          heatmap: [
            'hsl(20, 8%, 85%)',
            'hsl(220, 25%, 72%)',
            'hsl(270, 30%, 62%)',
            'hsl(320, 38%, 52%)',
            'hsl(350, 52%, 44%)',
            'hsl(10, 68%, 38%)',
          ],
        },
        midnight: {
          name: 'Midnight',
          brand: 'hsl(262, 60%, 58%)',
          topbar: 'hsl(250, 35%, 18%)',
          heatmap: [
            'hsl(250, 8%, 85%)',
            'hsl(170, 25%, 72%)',
            'hsl(205, 32%, 62%)',
            'hsl(230, 40%, 52%)',
            'hsl(250, 52%, 44%)',
            'hsl(265, 62%, 37%)',
          ],
        },
        rose: {
          name: 'Rose',
          brand: 'hsl(340, 60%, 55%)',
          topbar: 'hsl(345, 25%, 20%)',
          heatmap: [
            'hsl(340, 5%, 85%)',
            'hsl(210, 25%, 72%)',
            'hsl(250, 30%, 62%)',
            'hsl(290, 38%, 52%)',
            'hsl(320, 50%, 44%)',
            'hsl(340, 60%, 37%)',
          ],
        },
        slate: {
          name: 'Slate',
          brand: 'hsl(215, 45%, 50%)',
          topbar: 'hsl(220, 20%, 25%)',
          heatmap: [
            'hsl(215, 8%, 85%)',
            'hsl(45, 28%, 72%)',
            'hsl(120, 18%, 60%)',
            'hsl(180, 30%, 50%)',
            'hsl(200, 42%, 42%)',
            'hsl(218, 55%, 35%)',
          ],
        },
        ember: {
          name: 'Ember',
          brand: 'hsl(25, 70%, 50%)',
          topbar: 'hsl(20, 25%, 18%)',
          heatmap: [
            'hsl(25, 8%, 85%)',
            'hsl(220, 22%, 72%)',
            'hsl(270, 28%, 62%)',
            'hsl(325, 35%, 52%)',
            'hsl(0, 50%, 44%)',
            'hsl(22, 65%, 37%)',
          ],
        },
        sage: {
          name: 'Sage',
          brand: 'hsl(90, 35%, 45%)',
          topbar: 'hsl(100, 15%, 22%)',
          heatmap: [
            'hsl(90, 8%, 92%)',
            'hsl(18, 45%, 70%)',
            'hsl(38, 50%, 60%)',
            'hsl(58, 40%, 50%)',
            'hsl(120, 35%, 42%)',
            'hsl(88, 45%, 35%)',
          ],
        },
      };
      return data;
    }

    var labels = ['none', '1 (worst)', '2', '3', '4', '5 (best)'];
    var data = parseSchemes();

    function renderHeatmapRow(scheme, extraClass) {
      var html = '<div class="heatmap-row' + (extraClass ? ' ' + extraClass : '') + '">';
      for (var i = 0; i < scheme.heatmap.length; i++) {
        var c = scheme.heatmap[i];
        var textColor = i >= 3 ? 'white' : '#333';
        html += '<div class="heatmap-cell" style="background:' + c + ';color:' + textColor + ';">';
        html += '<span class="label">' + labels[i] + '</span>';
        html += '<span class="hsl-val">' + c + '</span>';
        html += '</div>';
      }
      html += '</div>';
      return html;
    }

    // Render all schemes
    var container = document.getElementById('schemes');
    var html = '';
    for (var id in data) {
      var s = data[id];
      html += '<div class="scheme-section">';
      html += '<div class="scheme-header">';
      html += '<div class="topbar-preview" style="background:' + s.topbar + ';"></div>';
      html += '<div class="brand-preview" style="background:' + s.brand + ';"></div>';
      html += '<span class="scheme-name">' + s.name + '</span>';
      html += '</div>';
      html += renderHeatmapRow(s);
      html += '</div>';
    }
    container.innerHTML = html;

    // Render colorblind simulations
    var simContainer = document.getElementById('simulations');
    var simHtml = '';
    var cvdTypes = [
      { id: 'deuteranopia', label: 'Deuteranopia (red-green, ~6% of males)' },
      { id: 'protanopia', label: 'Protanopia (red-green, ~2% of males)' },
      { id: 'tritanopia', label: 'Tritanopia (blue-yellow, ~0.01%)' },
    ];
    for (var t = 0; t < cvdTypes.length; t++) {
      var cvd = cvdTypes[t];
      simHtml += '<h2>' + cvd.label + '</h2>';
      for (var sid in data) {
        var scheme = data[sid];
        simHtml += '<div class="scheme-section ' + cvd.id + '">';
        simHtml += '<div class="scheme-header">';
        simHtml += '<span class="scheme-name">' + scheme.name + '</span>';
        simHtml += '</div>';
        simHtml += renderHeatmapRow(scheme);
        simHtml += '</div>';
      }
    }
    simContainer.innerHTML = simHtml;
  </script>
</body>
</html>
